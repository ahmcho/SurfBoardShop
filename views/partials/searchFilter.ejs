<form action="/posts" method="GET">
	<fieldset class="">
		<!-- <legend>Search</legend> -->
		<label for="search">Search</label><br>
		<input type="text" id="search" placeholder="Enter a name or place..." name="search" class="w-100" value="<%= query.search %>">
	</fieldset>
	<br>
	<fieldset>
		<div>
			<label for="location">Location</label><br>
			<input type="text" id="location" name="location" value="<%= query.location %>" class="w-100" placeholder="Address or Zipcode"><br/>	
			<small><a href="#" id="find-me"><i class="fas fa-search-location"></i> use my location</a></small><br/>
			<p id="status"></p>
		</div>
		<div>
			<legend>Distance (miles)</legend>
			<fieldset>
				<input type="radio" name="distance" id="distance25" value="25" <%= query.distance === '25' ? 'checked' : '' %>>
				<label for="distance25">25</label>
			
				<input type="radio" name="distance" id="distance50" value="50" <%= query.distance === '50' ? 'checked' : '' %>>
				<label for="distance50">50</label>
			
				<input type="radio" name="distance" id="distance100" value="100" <%= query.distance === '100' ? 'checked' : '' %>>
				<label for="distance100">100</label>

				<a href="#" id="clear-distance" style="margin: 2em;">clear</a>
		</fieldset>
		</div>
	</fieldset>

	<fieldset>
		<div>
			<legend>Price</legend>
			<label for="min">Min:</label>
			<input type="text" id="min" name="price[min]" min="0" max="10000" step="1" placeholder="Min" class="w-100" value="<%= query.price ? query.price.min : '' %>">		
			<br>
			<label for="max">Max</label>
			<input type="text" id="max" name="price[max]" min="0" max="10000" step="1" placeholder="Max" class="w-100" value="<%= query.price ? query.price.max : '' %>">
		</div>
	</fieldset>
	<br>
	<fieldset>
		<div>
			<legend>Rating</legend>
			<div class="pr-3 d-inline">
				<input type="checkbox" id="zero-stars" value="0" name="avgRating[]" <%= query.avgRating && query.avgRating.includes('0') ? 'checked' : '' %>>
				<label title="0 stars" for="zero-stars"><i class="far fa-star"></i></label>
			</div>
			
			<div class="pr-3 d-inline">
				<input type="checkbox" id="one-star" value="1" name="avgRating[]" <%= query.avgRating && query.avgRating.includes('1') ? 'checked' : '' %>>
				<label title="1 star" for="one-star"><i class="fas fa-star"></i></label>
			</div>
			
			<div class="pr-3 d-inline">
				<input type="checkbox" id="two-stars" value="2" name="avgRating[]" <%= query.avgRating && query.avgRating.includes('2') ? 'checked' : '' %>>
				<label title="2 stars" for="two-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i></label>
			</div>
			
			<div class="pr-3 d-inline">
				<input type="checkbox" id="three-stars" value="3" name="avgRating[]" <%= query.avgRating && query.avgRating.includes('3') ? 'checked' : '' %>>
				<label title="3 stars" for="three-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></label>
			</div>
			
			<div class="pr-3 d-inline">
				<input type="checkbox" id="four-stars" value="4" name="avgRating[]" <%= query.avgRating && query.avgRating.includes('4') ? 'checked' : '' %>>
				<label title="4 stars" for="four-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></label>
			</div>
			<input type="checkbox" id="five-stars" value="5" name="avgRating[]" <%= query.avgRating && query.avgRating.includes('5') ? 'checked' : '' %>>
			<label title="5 stars" for="five-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></label>
		</div>
	</fieldset>

	<div>
		<a href="/posts">reset form</a><br>
		<input type="submit" class="w-100" value="Search!">
	</div>
</form>

<script src="/javascripts/use-my-location.js"></script>
